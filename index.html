<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Service à Domicile Express</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
  /* Reset et styles globaux */
  * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Roboto', sans-serif; }
  body { line-height: 1.6; color: #333; scroll-behavior: smooth; }
  img { max-width: 100%; border-radius: 10px; }

  h1, h2, h3 { color: #4CAF50; }
  section { padding: 60px 20px; max-width: 1200px; margin: auto; }

  header {
    background: linear-gradient(135deg, #4CAF50, #3a8d42);
    color: white; text-align: center; padding: 100px 20px;
  }
  header h1 { font-size: 2.8rem; margin-bottom: 20px; }
  header button {
    padding: 15px 32px; font-size: 1.2rem;
    background: white; color: #4CAF50;
    border: none; border-radius: 5px;
    font-weight: bold; cursor: pointer;
    transition: 0.3s;
  }
  header button:hover { background: #e7e7e7; }

  /* Onglets */
  .tabs { display: flex; justify-content: center; margin-bottom: 25px; gap: 15px; flex-wrap: wrap; }
  .tab-button {
    padding: 12px 25px; border: none; border-radius: 6px;
    background: #f0f0f0; color: #333; font-weight: bold; cursor: pointer;
    transition: 0.3s;
  }
  .tab-button.active { background: #4CAF50; color: white; }
  .tab-button:hover { background: #43a047; color: white; }

  /* Cartes services */
  .services { display: flex; flex-wrap: wrap; gap: 25px; justify-content: center; }
  .service {
    background: #fff; padding: 20px; border-radius: 12px;
    width: 300px; text-align: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    transition: transform 0.25s, box-shadow 0.3s;
  }
  .service:hover { transform: translateY(-6px); box-shadow: 0 8px 20px rgba(0,0,0,0.18); }
  .service h3 { margin: 10px 0; }
  .service p { margin: 5px 0; }
  .service button {
    margin-top: 12px; padding: 12px 18px;
    background: #4CAF50; color: white;
    border: none; border-radius: 6px;
    font-size: 1rem; cursor: pointer; transition: 0.3s ease;
    width: 100%; font-weight: bold;
  }
  .service button:hover { background: #43a047; transform: scale(1.05); }

  footer { text-align: center; padding: 20px; background: #333; color: white; }

  @media (max-width: 768px) { .service { width: 100%; } }
</style>
</head>
<body>

<header>
  <h1>Votre service à domicile en moins de 24h !</h1>
  <button onclick="document.getElementById('services-section').scrollIntoView({behavior:'smooth'})">
    Voir les services
  </button>
</header>

<section id="services-section">
  <h2>Nos Services</h2>

  <!-- Onglets -->
  <div class="tabs">
    <button class="tab-button active" data-category="nettoyage">Nettoyage</button>
    <button class="tab-button" data-category="bricolage">Bricolage</button>
    <button class="tab-button" data-category="cours">Cours particuliers</button>
  </div>

  <!-- Conteneur des cartes -->
  <div class="services" id="services-container">
    <p>Chargement des services...</p>
  </div>
</section>

<footer>
  © 2026 Service à Domicile Express | Tous droits réservés
</footer>

<script>
  const baseApiUrl = "https://multiservices-back-dsaedcabckhng0ej.canadacentral-01.azurewebsites.net/api";
  const container = document.getElementById("services-container");
  const tabButtons = document.querySelectorAll(".tab-button");

  async function loadServices(category) {
    container.innerHTML = "<p>Chargement des services...</p>";
    try {
      const response = await fetch(`${baseApiUrl}/${category}`);
      if (!response.ok) throw new Error("Erreur HTTP " + response.status);
      const services = await response.json();

      container.innerHTML = "";
      if (services.length === 0) {
        container.innerHTML = "<p>Aucun service disponible.</p>";
        return;
      }

      services.forEach(service => {
        const card = document.createElement("div");
        card.className = "service";
        card.innerHTML = `
          <img src="https://via.placeholder.com/300x200" alt="${service.nom}">
          <h3>${service.nom}</h3>
          <p><strong>Prix :</strong> ${service.prix}</p>
          <p>${service.description}</p>
          <button onclick="alert('Vous avez choisi : ${service.nom}')">Réserver</button>
        `;
        container.appendChild(card);
      });
    } catch (err) {
      container.innerHTML = `<p>Erreur lors du chargement: ${err.message}</p>`;
      console.error(err);
    }
  }

  // Gestion des clics sur les onglets
  tabButtons.forEach(button => {
    button.addEventListener("click", () => {
      tabButtons.forEach(btn => btn.classList.remove("active"));
      button.classList.add("active");
      const category = button.getAttribute("data-category");
      loadServices(category);
    });
  });

  // Charger par défaut la catégorie Nettoyage
  window.addEventListener("DOMContentLoaded", () => loadServices("nettoyage"));
</script>

</body>
</html>
